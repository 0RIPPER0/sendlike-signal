<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SendLike</title>

  <!-- Google Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

  <!-- Main CSS -->
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- =======================
       LANDING PAGE
  ======================= -->
  <div id="landing">
    <h1>
      Fast enough to make your WIFI blush...<br>
      Because your file deserve a First Class 
      <span class="plane">‚úàÔ∏è</span>
      <span class="contrail"></span>
    </h1>
  </div>

  <!-- =======================
       MAIN CONTAINER
  ======================= -->
  <div class="container" style="display:none;">

    <!-- HEADER -->
    <header>
      <h1>
        <img src="icon.png" alt="SendLike Logo">
        SendLike
      </h1>
      <button onclick="showAbout()">About</button>
    </header>

    <!-- MODE TOGGLE -->
    <div class="card" style="display: flex; justify-content: space-between; align-items: center;">
      <div>
        <label>
          üåê Online Mode
          <input type="checkbox" id="modeSwitch" style="margin: 0 10px;">
          üì° Local Mode
        </label>
      </div>
      <div>
        Session limit:
        <select id="sessionLimit">
          <option value="10">10 min</option>
          <option value="30">30 min</option>
          <option value="60">1 hour</option>
          <option value="0">No limit</option>
        </select>
      </div>
    </div>

    <!-- =======================
         JOIN GROUP SECTION
    ======================= -->
    <div class="card">
      <h2>Online (with Code)</h2>
      <div style="display: grid; gap: 1rem;">
        <input id="nameOnline" type="text" placeholder="Your name">
        <input id="joinCode" type="text" placeholder="6-digit code" maxlength="6">
        <button id="joinBtn">Join Group</button>
      </div>
    </div>

    <!-- =======================
         CREATE GROUP SECTION
    ======================= -->
    <div class="card">
      <h2>Create a New Group</h2>
      <div style="display: grid; gap: 1rem;">
        <input id="nameHost" type="text" placeholder="Your name">
        <button id="createBtn">Create Group</button>
      </div>
    </div>

    <!-- =======================
         CHAT SECTION
    ======================= -->
    <div id="chatSection" class="card" style="display:none;">
      <h2>Group Chat</h2>
      <div id="chatMessages" style="height:200px; overflow-y:auto; background:rgba(255,255,255,0.3); border-radius:10px; padding:1rem; margin-bottom:1rem;"></div>
      <div style="display:grid; grid-template-columns: 1fr auto; gap:1rem;">
        <input id="chatInput" type="text" placeholder="Type a message...">
        <button id="sendChatBtn">Send</button>
      </div>
    </div>

  </div>

  <!-- =======================
       SCRIPTS
  ======================= -->
  <script src="/socket.io/socket.io.js"></script>
  <script src="script.js"></script>

  <script>
    // Landing page fade and plane loop
    function startLandingAnimation() {
      const landing = document.getElementById('landing');
      const container = document.querySelector('.container');
      
      setTimeout(() => {
        landing.style.opacity = '0';
        setTimeout(() => {
          landing.style.display = 'none';
          container.style.display = 'grid';
        }, 1000);
      }, 2500);
    }

    // Loop plane animation every few seconds
    function loopPlaneAnimation() {
      const plane = document.querySelector('.plane');
      const contrail = document.querySelector('.contrail');
      plane.style.animation = 'none';
      contrail.style.animation = 'none';
      plane.offsetHeight; // reset animation
      contrail.offsetHeight;
      plane.style.animation = 'planeCurve 1.5s ease-in forwards';
      contrail.style.animation = 'contrailFade 1.5s ease-in forwards';
    }

    window.addEventListener('load', () => {
      startLandingAnimation();
      loopPlaneAnimation();
      setInterval(loopPlaneAnimation, 4000); // repeat every 4 seconds
    });

    function showAbout() {
      alert("SendLike - Simple P2P sharing via code or local network.");
    }
  </script>
</body>
</html>
